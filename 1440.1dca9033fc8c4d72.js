"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[1440],{1440:(b,g,s)=>{s.r(g),s.d(g,{TeamPageModule:()=>x});var u=s(6814),h=s(95),n=s(5548),p=s(4670),m=s(5861),T=s(553),r=s(5426),t=s(6689);function Z(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ion-item",3),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.ver(a))}),t.TgZ(1,"ion-avatar",4),t._UZ(2,"img",5),t.qZA(),t.TgZ(3,"ion-label"),t._uU(4),t.qZA()()}if(2&o){const e=l.$implicit;t.xp6(2),t.MGl("src","./assets/image/logos/",e.logo,"",t.LSH),t.xp6(2),t.Oqu(e.name)}}let f=(()=>{class o{constructor(e,i,c,a){this.nav=i,this.viewCtrl=c,this.toastController=a,this.product=[],this.brand=e.get("brand"),this.action=e.get("action")}ngOnInit(){for(let e=0;e<r.c.promo.length;e++)this.product[e]=r.c.promo[e]}ver(e){var i=this;return(0,m.Z)(function*(){var c=!1;for(let a=0;a<r.c.team.length;a++)r.c.team[a].name==e.name&&(c=!0);if(0==c){if("add"==i.action)r.c.team.push(e);else if("update"==i.action)for(let a=0;a<r.c.team.length;a++)r.c.team[a].name==i.brand.name&&(r.c.team[a]=e)}else(yield i.toastController.create({message:"La publicidad ya existe.",duration:1e3,position:"bottom"})).present();i.viewCtrl.dismiss()})()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(n.X1),t.Y36(n.SH),t.Y36(n.IN),t.Y36(n.yF))},o.\u0275cmp=t.Xpm({type:o,selectors:[["modal"]],decls:11,vars:1,consts:[["type","indeterminate"],["sizeMd","4","offsetMd","4"],["button","",3,"click",4,"ngFor","ngForOf"],["button","",3,"click"],["slot","start"],[3,"src"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"modal"),t.qZA(),t._UZ(4,"ion-progress-bar",0),t.qZA()(),t.TgZ(5,"ion-content")(6,"ion-grid")(7,"ion-row")(8,"ion-col",1)(9,"ion-list"),t.YNc(10,Z,5,2,"ion-item",2),t.qZA()()()()()),2&e&&(t.xp6(10),t.Q6J("ngForOf",i.product))},dependencies:[u.sg,n.BJ,n.wI,n.W2,n.jY,n.Gu,n.Ie,n.Q$,n.q_,n.X7,n.Nd,n.wd,n.sr],encapsulation:2}),o})();function _(o,l){if(1&o){const e=t.EpF();t.TgZ(0,"ion-col",5)(1,"ion-card")(2,"ion-card-header"),t._UZ(3,"ion-img",6),t.qZA(),t.TgZ(4,"ion-card-title")(5,"ion-label"),t._uU(6),t.qZA()(),t.TgZ(7,"ion-card-content")(8,"ion-button",7),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.abrirModal(a))}),t._uU(9," Actualizar "),t._UZ(10,"ion-icon",8),t.qZA(),t.TgZ(11,"ion-button",7),t.NdJ("click",function(){const a=t.CHM(e).$implicit,d=t.oxw();return t.KtG(d.presentActionSheet(a))}),t._uU(12," Eliminar "),t._UZ(13,"ion-icon",9),t.qZA()()()()}if(2&o){const e=l.$implicit;t.xp6(3),t.MGl("src","./assets/image/promos/",e.image,""),t.xp6(3),t.Oqu(e.name)}}const C=[{path:"",component:(()=>{class o{constructor(e,i,c,a){this.alertController=e,this.modalController=i,this.nav=c,this.actionSheetCtrl=a,this.products=[],this.urlApi=T.N.urlAPI}ngOnInit(){this.loadTeam()}loadTeam(){for(let e=0;e<=r.c.team.length;e++)this.products=r.c.team}addBrands(){var e=this;return(0,m.Z)(function*(){r.c.team.length<6?yield(yield e.modalController.create({component:f,componentProps:{action:"add"}})).present():yield(yield e.alertController.create({message:"No deben haber m\xe1s de 6 marcas.",buttons:["OK"]})).present()})()}deleteBrands(e){const i=r.c.team.findIndex(c=>c.id===e.id);-1!==i&&r.c.team.splice(i,1),0==r.c.team.length?this.nav.navigateForward("/home"):this.loadTeam()}abrirModal(e){var i=this;return(0,m.Z)(function*(){yield(yield i.modalController.create({component:f,componentProps:{brand:e,action:"update"}})).present()})()}presentActionSheet(e){var i=this;return(0,m.Z)(function*(){yield(yield i.actionSheetCtrl.create({header:"Estas seguro?",buttons:[{text:"Eliminar",role:"destructive",handler:()=>{i.deleteBrands(e)}},{text:"Cerrar",role:"cancel"}]})).present()})()}}return o.\u0275fac=function(e){return new(e||o)(t.Y36(n.Br),t.Y36(n.IN),t.Y36(n.SH),t.Y36(n.BX))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-team"]],decls:13,vars:1,consts:[["slot","start"],["defaultHref","home"],["sizeMd","4",4,"ngFor","ngForOf"],["slot","fixed","vertical","bottom","horizontal","end",3,"click"],["name","add"],["sizeMd","4"],[3,"src"],[3,"click"],["slot","end","name","duplicate-outline"],["slot","end","name","trash-outline"]],template:function(e,i){1&e&&(t.TgZ(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),t._uU(3,"Publicidades"),t.qZA(),t.TgZ(4,"ion-buttons",0),t._UZ(5,"ion-back-button",1),t.qZA()()(),t.TgZ(6,"ion-content")(7,"ion-grid")(8,"ion-row"),t.YNc(9,_,14,2,"ion-col",2),t.qZA()(),t.TgZ(10,"ion-fab",3),t.NdJ("click",function(){return i.addBrands()}),t.TgZ(11,"ion-fab-button"),t._UZ(12,"ion-icon",4),t.qZA()()()),2&e&&(t.xp6(9),t.Q6J("ngForOf",i.products))},dependencies:[u.sg,n.oU,n.YG,n.Sm,n.PM,n.FN,n.Zi,n.Dq,n.wI,n.W2,n.IJ,n.W4,n.jY,n.Gu,n.gu,n.Xz,n.Q$,n.Nd,n.wd,n.sr,n.cs],styles:["ion-card-header[_ngcontent-%COMP%]{align-items:center}ion-card-title[_ngcontent-%COMP%]{padding-left:4%;font-size:32px}ion-img[_ngcontent-%COMP%]{width:50%;height:250px}ion-content[_ngcontent-%COMP%]{--ion-background-color: #314875}ion-card[_ngcontent-%COMP%]{--ion-background-color: #ffffff}"]}),o})()}];let M=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[p.Bz.forChild(C),p.Bz]}),o})(),x=(()=>{class o{}return o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[u.ez,h.u5,n.Pc,M]}),o})()}}]);